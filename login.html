<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - EduPlatform</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="auth-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-graduation-cap"></i>
                <span>EduPlatform</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link">Study Materials <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="notes.html">Notes</a>
                        <a href="gate-pyq.html">GATE PYQ</a>
                        <a href="btech-notes.html">BTech Notes</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="videos.html" class="nav-link">Videos</a>
                </li>
                <li class="nav-item">
                    <a href="products.html" class="nav-link">Products</a>
                </li>
                
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="blog.html" class="nav-link">Blog</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">Contact</a>
                </li>
                <li class="nav-item">
                    <a href="login.html" class="nav-link login-btn active">Login</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Auth Container -->
    <div class="auth-container">
        <div class="auth-wrapper">
            <!-- Login Form -->
            <div class="auth-form-container" id="loginForm">
                <div class="auth-header">
                    <h2>Welcome Back!</h2>
                    <p>Sign in to access your learning dashboard</p>
                </div>

                <form class="auth-form" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="loginEmail" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="loginPassword" name="password" placeholder="Enter your password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" name="remember">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot Password?</a>
                    </div>

                    <button type="submit" class="btn btn-primary auth-btn">Sign In</button>

                    <div class="divider">
                        <span>or</span>
                    </div>

                    <div class="social-login">
                        <button type="button" class="btn btn-social google-btn">
                            <i class="fab fa-google"></i>
                            Continue with Google
                        </button>
                        <button type="button" class="btn btn-social facebook-btn">
                            <i class="fab fa-facebook-f"></i>
                            Continue with Facebook
                        </button>
                    </div>
                </form>

                <div class="auth-footer">
                    <p>Don't have an account? <a href="#" onclick="showRegisterForm()">Sign up here</a></p>
                </div>
            </div>

            <!-- Register Form -->
            <div class="auth-form-container hidden" id="registerForm">
                <div class="auth-header">
                    <h2>Create Account</h2>
                    <p>Join thousands of students on their learning journey</p>
                </div>

                <form class="auth-form" onsubmit="handleRegister(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <div class="input-group">
                                <i class="fas fa-user"></i>
                                <input type="text" id="firstName" name="firstName" placeholder="First name" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <div class="input-group">
                                <i class="fas fa-user"></i>
                                <input type="text" id="lastName" name="lastName" placeholder="Last name" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail">Email Address</label>
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="registerEmail" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="registerPassword" name="password" placeholder="Create a password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="userType">I am a:</label>
                        <select id="userType" name="userType" required>
                            <option value="">Select your role</option>
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                            <option value="professional">Working Professional</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" name="terms" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary auth-btn">Create Account</button>

                    <div class="divider">
                        <span>or</span>
                    </div>

                    <div class="social-login">
                        <button type="button" class="btn btn-social google-btn">
                            <i class="fab fa-google"></i>
                            Sign up with Google
                        </button>
                        <button type="button" class="btn btn-social facebook-btn">
                            <i class="fab fa-facebook-f"></i>
                            Sign up with Facebook
                        </button>
                    </div>
                </form>

                <div class="auth-footer">
                    <p>Already have an account? <a href="#" onclick="showLoginForm()">Sign in here</a></p>
                </div>
            </div>

            <!-- Forgot Password Form -->
            <div class="auth-form-container hidden" id="forgotPasswordForm">
                <div class="auth-header">
                    <h2>Reset Password</h2>
                    <p>Enter your email address and we'll send you a link to reset your password</p>
                </div>

                <form class="auth-form" onsubmit="handleForgotPassword(event)">
                    <div class="form-group">
                        <label for="resetEmail">Email Address</label>
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="resetEmail" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary auth-btn">Send Reset Link</button>
                </form>

                <div class="auth-footer">
                    <p>Remember your password? <a href="#" onclick="showLoginForm()">Sign in here</a></p>
                </div>
            </div>
        </div>

        <!-- Auth Side Panel -->
        <div class="auth-side-panel">
            <div class="panel-content">
                <div class="panel-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h3>Start Your Learning Journey</h3>
                <p>Access thousands of study materials, video lectures, and practice tests to excel in your academic goals.</p>
                <div class="panel-features">
                    <div class="feature-item">
                        <i class="fas fa-check"></i>
                        <span>Comprehensive Study Materials</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i>
                        <span>Expert Video Lectures</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i>
                        <span>Practice Tests & PYQs</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check"></i>
                        <span>24/7 Learning Support</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Reset and base styles */
        * { box-sizing: border-box; }
        body.auth-page { margin: 0; padding: 0; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); font-family: 'Poppins', sans-serif; min-height: 100vh; }
        
        /* Layout */
        .hidden { display: none !important; }
        .auth-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .auth-wrapper { display: flex; max-width: 900px; width: 100%; background: white; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); overflow: hidden; }
        
        /* Form container */
        .auth-form-container { flex: 1; padding: 40px; max-width: 450px; }
        .auth-header { text-align: center; margin-bottom: 30px; }
        .auth-header h2 { color: #333; margin: 0 0 10px 0; font-size: 24px; font-weight: 600; }
        .auth-header p { color: #666; margin: 0; font-size: 14px; }
        
        /* Form elements */
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #333; font-size: 14px; }
        .input-group { position: relative; }
        .input-group i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #999; z-index: 1; }
        .input-group input, .input-group select { width: 100%; padding: 12px 12px 12px 40px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; transition: border-color 0.3s; }
        .input-group input:focus, .input-group select:focus { outline: none; border-color: #667eea; }
        .password-toggle { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: #999; }
        
        /* Form layout */
        .form-row { display: flex; gap: 15px; }
        .form-row .form-group { flex: 1; }
        .form-options { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 14px; }
        .checkbox-container { display: flex; align-items: center; gap: 8px; }
        .checkmark { width: 16px; height: 16px; border: 1px solid #ddd; border-radius: 3px; }
        .forgot-password { color: #667eea; text-decoration: none; }
        
        /* Buttons */
        .btn { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; font-size: 14px; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-primary:hover { transform: translateY(-1px); }
        .auth-btn { width: 100%; margin-bottom: 20px; }
        
        /* Social login */
        .divider { text-align: center; margin: 20px 0; position: relative; }
        .divider::before { content: ''; position: absolute; top: 50%; left: 0; right: 0; height: 1px; background: #ddd; }
        .divider span { background: white; padding: 0 15px; color: #999; font-size: 12px; }
        .social-login { display: flex; gap: 10px; }
        .btn-social { flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px; padding: 10px; font-size: 12px; }
        .google-btn { background: #db4437; color: white; }
        .facebook-btn { background: #3b5998; color: white; }
        
        /* Footer */
        .auth-footer { text-align: center; margin-top: 20px; font-size: 14px; }
        .auth-footer a { color: #667eea; text-decoration: none; }
        
        /* Side panel */
        .auth-side-panel { flex: 1; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; display: flex; flex-direction: column; justify-content: center; }
        .panel-icon i { font-size: 48px; margin-bottom: 20px; }
        .panel-content h3 { font-size: 22px; margin-bottom: 15px; }
        .panel-content p { font-size: 14px; margin-bottom: 25px; opacity: 0.9; }
        .feature-item { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; font-size: 14px; }
        .feature-item i { color: #4CAF50; }
        
        /* Navbar styles */
        .navbar { position: fixed; top: 0; width: 100%; background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); z-index: 1000; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; }
        .nav-logo { display: flex; align-items: center; font-size: 20px; font-weight: 700; color: #667eea; }
        .nav-logo i { margin-right: 8px; font-size: 24px; }
        .nav-menu { display: flex; list-style: none; margin: 0; padding: 0; align-items: center; }
        .nav-item { margin: 0 15px; position: relative; }
        .nav-link { color: #333; text-decoration: none; font-weight: 500; padding: 8px 0; transition: color 0.3s; }
        .nav-link:hover, .nav-link.active { color: #667eea; }
        .login-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white !important; padding: 8px 20px; border-radius: 20px; }
        .login-btn:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(102,126,234,0.3); }
        .dropdown { position: relative; }
        .dropdown-content { position: absolute; top: 100%; left: 0; background: white; min-width: 160px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); border-radius: 8px; display: none; z-index: 1001; }
        .dropdown:hover .dropdown-content { display: block; }
        .dropdown-content a { display: block; padding: 12px 16px; color: #333; text-decoration: none; }
        .dropdown-content a:hover { background: #f5f5f5; }
        .hamburger { display: none; flex-direction: column; cursor: pointer; }
        .bar { width: 25px; height: 3px; background: #333; margin: 3px 0; transition: 0.3s; }
        
        /* Responsive navbar */
        @media (max-width: 768px) {
            .nav-menu { position: fixed; left: -100%; top: 70px; flex-direction: column; background: white; width: 100%; text-align: center; transition: 0.3s; box-shadow: 0 10px 27px rgba(0,0,0,0.05); }
            .nav-menu.active { left: 0; }
            .nav-item { margin: 15px 0; }
            .hamburger { display: flex; }
            .auth-container { padding: 80px 10px 10px; }
            .auth-wrapper { flex-direction: column; max-width: 400px; }
            .auth-side-panel { display: none; }
            .form-row { flex-direction: column; gap: 0; }
            .auth-form-container { padding: 30px 20px; }
            .social-login { flex-direction: column; }
        }
        
        @media (min-width: 769px) {
            .auth-container { padding: 80px 10px 10px; }
        }
    </style>
    <script src="script.js"></script>
    <script>
        function showLoginForm() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('forgotPasswordForm').classList.add('hidden');
        }

        function showRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
            document.getElementById('forgotPasswordForm').classList.add('hidden');
        }

        function showForgotPasswordForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('forgotPasswordForm').classList.remove('hidden');
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.nextElementSibling.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        // Add event listeners when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const forgotPasswordLink = document.querySelector('.forgot-password');
            if (forgotPasswordLink) {
                forgotPasswordLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    showForgotPasswordForm();
                });
            }
            
            // Mobile menu toggle
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                });
            }
        });

        // Login functionality
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            const urlParams = new URLSearchParams(window.location.search);
            const isAdminLogin = urlParams.get('admin') === 'true';
            
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            if (isAdminLogin) {
                if (email === 'admin@edu.com' && password === 'admin123') {
                    localStorage.setItem('isAdmin', 'true');
                    localStorage.setItem('userRole', 'admin');
                    alert('Admin login successful!');
                    window.location.href = 'admin.html';
                } else {
                    alert('Invalid admin credentials!\nEmail: admin@edu.com\nPassword: admin123');
                }
            } else {
                // Demo regular user login
                if (email && password.length >= 6) {
                    localStorage.setItem('isLoggedIn', 'true');
                    localStorage.setItem('userEmail', email);
                    alert('Login successful!');
                    window.location.href = 'index.html';
                } else {
                    alert('Invalid credentials or password too short (min 6 characters)');
                }
            }
        }
        
        // Register functionality
        function handleRegister(event) {
            event.preventDefault();
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const userType = document.getElementById('userType').value;
            const terms = document.querySelector('input[name="terms"]').checked;
            
            if (!firstName || !lastName || !email || !password || !confirmPassword || !userType) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters long');
                return;
            }
            
            if (!terms) {
                alert('Please accept the Terms of Service and Privacy Policy');
                return;
            }
            
            alert('Registration successful! Please login with your credentials.');
            showLoginForm();
        }
        
        // Forgot password functionality
        function handleForgotPassword(event) {
            event.preventDefault();
            const email = document.getElementById('resetEmail').value.trim();
            
            if (!email) {
                alert('Please enter your email address');
                return;
            }
            
            alert('Password reset link sent to ' + email + '\nPlease check your email.');
            showLoginForm();
        }

        // Show admin login message if accessing via admin link
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === 'true') {
                document.querySelector('.auth-header h2').textContent = 'Admin Login';
                document.querySelector('.auth-header p').textContent = 'Sign in with admin credentials to access the admin panel';
            }
        };
    </script>
    <script src="global-fixes.js"></script>
    <script src="auth-state.js"></script>
    <script src="theme-toggle.js"></script>
</body>
</html>

